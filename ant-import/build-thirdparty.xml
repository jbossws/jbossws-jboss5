<?xml version="1.0" encoding="UTF-8"?>

<!-- ====================================================================== -->
<!--                                                                        -->
<!--  JBoss, the OpenSource J2EE webOS                                      -->
<!--                                                                        -->
<!--  Distributable under LGPL license.                                     -->
<!--  See terms of license at http://www.gnu.org.                           -->
<!--                                                                        -->
<!-- ====================================================================== -->

<!-- $Id$ -->

<project>

   <!-- ========= -->
   <!-- Libraries -->
   <!-- ========= -->

   <target name="thirdparty-init" depends="prepare">

      <property name="thirdparty.dir" value="${jbws50.dir}/thirdparty"/>
      <checksum file="${jbws50.dir}/version.properties" fileext=".md5" verifyproperty="checksum.ok"/>
      <condition property="force.thirdparty">
         <or>
            <not>
               <available file="${thirdparty.dir}" type="dir"/>
            </not>
            <isfalse value="${checksum.ok}"/>
            <isset property="force.thirdparty.get"/>
         </or>
      </condition>
      <echo message="checksum.ok = ${checksum.ok}"/>
   </target>

   <target name="thirdparty-get" depends="thirdparty-init" if="force.thirdparty" description="Gets the thirdparty libraries">

      <mkdir dir="${thirdparty.dir}"/>
      <get src="${jboss.repository}/jboss/jbossws-common/${jbossws-common}/lib/jbossws-common.jar" dest="${thirdparty.dir}/jbossws-common.jar" usetimestamp="true" verbose="true"/>
      <get src="${jboss.repository}/jboss/jbossws-common/${jbossws-common}/lib/jbossws-common-src.zip" dest="${thirdparty.dir}/jbossws-common-src.zip" usetimestamp="true" verbose="true"/>
      <get src="${jboss.repository}/jboss/jbossws-framework/${jbossws-framework}/lib/jbossws-framework.jar" dest="${thirdparty.dir}/jbossws-framework.jar" usetimestamp="true" verbose="true"/>
      <get src="${jboss.repository}/jboss/jbossws-framework/${jbossws-framework}/lib/jbossws-framework-scripts.zip" dest="${thirdparty.dir}/jbossws-framework-scripts.zip" usetimestamp="true" verbose="true"/>
      <get src="${jboss.repository}/jboss/jbossws-framework/${jbossws-framework}/lib/jbossws-framework-src.zip" dest="${thirdparty.dir}/jbossws-framework-src.zip" usetimestamp="true" verbose="true"/>
      <get src="${jboss.repository}/jboss/jbossws-spi/${jbossws-spi}/lib/jbossws-spi.jar" dest="${thirdparty.dir}/jbossws-spi.jar" usetimestamp="true" verbose="true"/>
      <get src="${jboss.repository}/jboss/jbossws-spi/${jbossws-spi}/lib/jbossws-spi-src.zip" dest="${thirdparty.dir}/jbossws-spi-src.zip" usetimestamp="true" verbose="true"/>

      <get src="${jboss.repository}/jboss/jbossws/${jbossws}/lib/jboss-jaxws.jar" dest="${thirdparty.dir}/jboss-jaxws.jar" usetimestamp="true" verbose="true"/>
      <get src="${jboss.repository}/jboss/jbossws/${jbossws}/lib/jboss-jaxrpc.jar" dest="${thirdparty.dir}/jboss-jaxrpc.jar" usetimestamp="true" verbose="true"/>
      <get src="${jboss.repository}/jboss/jbossws/${jbossws}/lib/jboss-saaj.jar" dest="${thirdparty.dir}/jboss-saaj.jar" usetimestamp="true" verbose="true"/>

      <get src="${jboss.repository}/sun-servlet/${sun-servlet}/lib/servlet-api.jar" dest="${thirdparty.dir}/servlet-api.jar" usetimestamp="true" verbose="true"/>

      <checksum file="${jbws50.dir}/version.properties" fileext=".md5"/>
   </target>

   <target name="thirdparty-classpath" depends="thirdparty-get">

      <!-- The compile classpath for jboss50 integration -->
      <path id="jbws50.integration.classpath">
         <!-- A stack MUST NOT have a compile time dependency on jbossws-framework.jar -->
         <pathelement location="${thirdparty.dir}/jbossws-common.jar"/>
         <pathelement location="${thirdparty.dir}/jbossws-spi.jar"/>
         <pathelement location="${thirdparty.dir}/jboss-jaxws.jar"/>
         <pathelement location="${thirdparty.dir}/jboss-jaxrpc.jar"/>
         <pathelement location="${thirdparty.dir}/jboss-saaj.jar"/>
         <pathelement location="${thirdparty.dir}/servlet-api.jar"/>

         <pathelement location="${jboss50.lib}/jboss-common-core.jar" />
         <pathelement location="${jboss50.lib}/jboss-classloading-spi.jar" />
         <pathelement location="${jboss50.lib}/jboss-deployers-client-spi.jar" />
         <pathelement location="${jboss50.lib}/jboss-deployers-client.jar" /><!-- why this?  -->
         <pathelement location="${jboss50.lib}/jboss-deployers-core-spi.jar" />
         <pathelement location="${jboss50.lib}/jboss-deployers-spi.jar" />
         <pathelement location="${jboss50.lib}/jboss-deployers-structure-spi.jar" />
         <pathelement location="${jboss50.lib}/jboss-deployers-vfs-spi.jar" />
         <pathelement location="${jboss50.lib}/jboss-dependency.jar" />
         <pathelement location="${jboss50.lib}/jboss-j2se.jar" />
         <pathelement location="${jboss50.lib}/jaxb-api.jar" />
         <pathelement location="${jboss50.lib}/jboss-mdr.jar" />
         <pathelement location="${jboss50.lib}/jboss-reflect.jar" />
         <pathelement location="${jboss50.lib}/jboss-logging-spi.jar" />
         <pathelement location="${jboss50.lib}/jboss-kernel.jar" />
         <pathelement location="${jboss50.lib}/jboss-system.jar" />
         <pathelement location="${jboss50.lib}/jboss-system-jmx.jar" />
         <pathelement location="${jboss50.lib}/jboss-xml-binding.jar" />
         <pathelement location="${jboss50.lib}/jboss-vfs.jar" /><!-- why this? -->

         <pathelement location="${jboss50.server.lib}/jboss.jar" />
         <pathelement location="${jboss50.server.lib}/jboss-metadata.jar" />
         <pathelement location="${jboss50.server.lib}/jboss-javaee.jar" />

         <pathelement location="${jboss50.server.lib}/jboss-ejb3-core.jar" />
         <pathelement location="${jboss50.server.lib}/jboss-ejb3-interceptors.jar" />
         <pathelement location="${jboss50.server.lib}/jboss-ejb3-ext-api.jar" />

         <pathelement location="${jboss50.server.lib}/jboss-security-spi.jar" />
         <pathelement location="${jboss50.server.lib}/jbosssx.jar" /><!-- Why this ? -->

         <pathelement location="${jboss50.server.deployers}/jboss-aop-jboss5.deployer/jboss-aspect-library-jdk50.jar" />         


      </path>

   </target>

</project>

